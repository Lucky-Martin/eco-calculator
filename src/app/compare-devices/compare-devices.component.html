<mat-card>
  <mat-card-header>
    <mat-card-title>Сравни устройства</mat-card-title>
    <button mat-stroked-button (click)="clearDevices()" [disabled]="!(firstDevice && secondDevice)">Изчисти</button>
  </mat-card-header>
  <mat-card-content>
    <div class="grid-container" *ngIf="!showDifferences">
      <div class="grid-col padding-right">
        <app-select-device [device]="firstDevice!"
                           [devices]="devicesToChoose"
                           (deviceSelect)="onSelectDevice($event, 1)"></app-select-device>
      </div>
      <div class="grid-col padding-left">
        <app-select-device [device]="secondDevice!"
                           [devices]="devicesToChoose"
                           (deviceSelect)="onSelectDevice($event, 2)"></app-select-device>
      </div>
    </div>
    <table mat-table [dataSource]="dataSource" *ngIf="showDifferences && firstDevice && secondDevice">
      <ng-container matColumnDef="criteria">
        <th mat-header-cell *matHeaderCellDef> Критерии </th>
        <td mat-cell *matCellDef="let element"> {{element.criteria}} </td>
      </ng-container>

      <ng-container [matColumnDef]="firstDevice.name">
        <th mat-header-cell *matHeaderCellDef [class]="firstDeviceHighlight ? 'highlight': ''"> {{firstDevice.name}} </th>
        <td mat-cell *matCellDef="let element"> {{element.firstDeviceValue}} </td>
      </ng-container>

      <ng-container [matColumnDef]="secondDevice.name">
        <th mat-header-cell *matHeaderCellDef [class]="secondDeviceHighlight ? 'highlight': ''"> {{secondDevice.name}} </th>
        <td mat-cell *matCellDef="let element"> {{element.secondDeviceValue}} </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
  </mat-card-content>
</mat-card>
